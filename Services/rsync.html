<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/static/css/style.css">
        <title>rsync - Linux Wiki</title>
        <meta name="keywords" content="Net, Performance, Productivity, Security, Service, System"/>
        <meta name="description" content="A Linux Wiki."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
<a href="https://github.com/linuxwiki/SourceWiki"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
            
<div id="header">
  <div id="post-nav"><a href="/">Home</a>&nbsp;»&nbsp;<a href="/#Services">Services</a>&nbsp;»&nbsp;rsync</div>
</div>
<div class="clearfix"></div>
  <div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#rsync">rsync</a><ul>
<li><a href="#rsync_1">rsync基本介绍</a></li>
<li><a href="#rsync_2">rsync选项</a></li>
<li><a href="#shell">远程 Shell 方式</a></li>
<li><a href="#rsync-cs">rsync C/S 方式</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="rsync">rsync</h1>
<h2 id="rsync_1">rsync基本介绍</h2>
<p><code>rsync</code>是类unix系统下的数据镜像备份工具，从软件的命名上就可以看出来了——remote sync。它的特性如下：</p>
<ul>
<li>1、可以镜像保存整个目录树和文件系统</li>
<li>2、可以很容易做到保持原来文件的权限、时间、软硬链接等等</li>
<li>3、无须特殊权限即可安装</li>
<li>4、优化的流程，文件传输效率高</li>
<li>5、可以使用rsh、ssh等方式来传输文件，当然也可以通过直接的socket连接</li>
<li>6、支持匿名传输</li>
</ul>
<p>在使用rsync 进行远程同步时，可以使用两种方式：<strong>远程Shell方式</strong>（用户验证由 ssh 负责）和 <strong>C/S 方式</strong>（即客户连接远程rsync服务器，用户验证由rsync服务器负责）。</p>
<p>无论本地同步目录还是远程同步数据，首次运行时将会把全部文件拷贝一次，以后再运行时将只拷贝有变化的文件（对于新文件）或文件的变化部分（对于原有文件）。</p>
<h2 id="rsync_2">rsync选项</h2>
<div class="hlcode"><pre>Usage: rsync <span class="o">[</span>OPTION<span class="o">]</span>... SRC <span class="o">[</span>SRC<span class="o">]</span>... DEST
  or   rsync <span class="o">[</span>OPTION<span class="o">]</span>... SRC <span class="o">[</span>SRC<span class="o">]</span>... <span class="o">[</span>USER@<span class="o">]</span>HOST:DEST
  or   rsync <span class="o">[</span>OPTION<span class="o">]</span>... SRC <span class="o">[</span>SRC<span class="o">]</span>... <span class="o">[</span>USER@<span class="o">]</span>HOST::DEST
  or   rsync <span class="o">[</span>OPTION<span class="o">]</span>... SRC <span class="o">[</span>SRC<span class="o">]</span>... rsync://<span class="o">[</span>USER@<span class="o">]</span>HOST<span class="o">[</span>:PORT<span class="o">]</span>/DEST
  or   rsync <span class="o">[</span>OPTION<span class="o">]</span>... <span class="o">[</span>USER@<span class="o">]</span>HOST:SRC <span class="o">[</span>DEST<span class="o">]</span>
  or   rsync <span class="o">[</span>OPTION<span class="o">]</span>... <span class="o">[</span>USER@<span class="o">]</span>HOST::SRC <span class="o">[</span>DEST<span class="o">]</span>
  or   rsync <span class="o">[</span>OPTION<span class="o">]</span>... rsync://<span class="o">[</span>USER@<span class="o">]</span>HOST<span class="o">[</span>:PORT<span class="o">]</span>/SRC <span class="o">[</span>DEST<span class="o">]</span>
</pre></div>


<ul>
<li><code>-v</code> : Verbose (try -vv for more detailed information)            # 详细模式显示</li>
<li><code>-e</code> "ssh options" : specify the ssh as remote shell              # 指定ssh作为远程shell</li>
<li><code>-a</code> : archive mode   # 归档模式，表示以递归方式传输文件，并保持所有文件属性，等于-rlptgoD<ul>
<li><code>-r</code>(--recursive) : 目录递归</li>
<li><code>-l</code>(--links) ：保留软链接</li>
<li><code>-p</code>(--perms) ：保留文件权限</li>
<li><code>-t</code>(--times) ：保留文件时间信息</li>
<li><code>-g</code>(--group) ：保留属组信息</li>
<li><code>-o</code>(--owner) ：保留文件属主信息</li>
<li><code>-D</code>(--devices) ：保留设备文件信息</li>
</ul>
</li>
<li><code>-z</code> : 压缩文件</li>
<li><code>-h</code> : 以可读方式输出</li>
<li><code>-H</code> : 复制硬链接</li>
<li><code>-X</code> : 保留扩展属性</li>
<li><code>-A</code> : 保留ACL属性</li>
<li><code>-n</code> : 只测试输出而不正真执行命令，推荐使用，特别防止<code>--delete</code>误删除！</li>
<li><code>--stats</code> : 输出文件传输的状态</li>
<li><code>--progress</code> : 输出文件传输的进度</li>
<li><code>--exclude-from</code> : 排除文件或目录</li>
<li><code>--numeric-ids</code> : 不映射uid/gid到user/group的名字</li>
<li><code>--delete</code> : 删除DST中SRC没有的文件，也就是所谓的镜像[mirror]备份</li>
</ul>
<h2 id="shell">远程 Shell 方式</h2>
<h2 id="rsync-cs">rsync C/S 方式</h2>
<p>--EOF--</p>
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2012-2014 .
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>